document.addEventListener("DOMContentLoaded",()=>{});function n(){const t=document.getElementById("apiKey").value.trim(),e=document.getElementById("status");if(!t){e.textContent="Please enter an API key.",e.className="status error",e.style.display="block";return}if(!t.startsWith("AIza")){e.textContent='Invalid API key format. API keys should start with "AIza".',e.className="status error",e.style.display="block";return}chrome.storage.local.set({geminiApiKey:t},()=>{chrome.runtime.lastError?(e.textContent="Error saving options: "+chrome.runtime.lastError.message,e.className="status error"):(e.textContent="Options saved successfully!",e.className="status success"),e.style.display="block",setTimeout(()=>{e.style.display="none"},3e3)})}function a(){chrome.storage.local.get({geminiApiKey:""},t=>{if(chrome.runtime.lastError){console.error("Error loading options:",chrome.runtime.lastError);return}document.getElementById("apiKey").value=t.geminiApiKey})}document.addEventListener("DOMContentLoaded",a);document.getElementById("save").addEventListener("click",n);document.getElementById("apiKey").addEventListener("input",t=>{const e=t.target.value.trim(),s=document.getElementById("save");!e||!e.startsWith("AIza")?(s.disabled=!0,s.style.opacity="0.5"):(s.disabled=!1,s.style.opacity="1")});
